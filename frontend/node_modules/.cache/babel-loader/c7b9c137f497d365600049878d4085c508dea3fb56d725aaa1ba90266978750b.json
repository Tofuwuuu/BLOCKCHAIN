{"ast":null,"code":"import _objectSpread from\"F:/Project/BLOCKCHAIN/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Container,Row,Col,Card,Table,Button,Badge,Form,Modal,InputGroup}from'react-bootstrap';import{apiService}from'../services/api';import{useAuth}from'../contexts/AuthContext';import LoadingSpinner from'../components/LoadingSpinner';import Toast from'../components/Toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Mock data for demonstration\nconst mockUsers=[{id:1,username:\"admin\",full_name:\"System Administrator\",position:\"System Administrator\",department:\"IT Department\",role:\"admin\",is_admin:true,created_at:\"2024-01-01T00:00:00Z\",updated_at:\"2024-01-01T00:00:00Z\"},{id:2,username:\"procurement0\",full_name:\"Juan Dela Cruz\",position:\"Procurement Officer\",department:\"Procurement Department\",role:\"procurement\",is_admin:false,created_at:\"2025-08-15T10:30:00Z\",updated_at:\"2025-08-15T10:30:00Z\"},{id:3,username:\"procurement1\",full_name:\"Maria Santos\",position:\"Senior Procurement Officer\",department:\"Procurement Department\",role:\"procurement\",is_admin:false,created_at:\"2025-08-14T14:20:00Z\",updated_at:\"2025-08-14T14:20:00Z\"},{id:4,username:\"procurement2\",full_name:\"Pedro Martinez\",position:\"Procurement Specialist\",department:\"Procurement Department\",role:\"procurement\",is_admin:false,created_at:\"2025-08-13T09:15:00Z\",updated_at:\"2025-08-13T09:15:00Z\"},{id:5,username:\"validator1\",full_name:\"Ana Reyes\",position:\"Validation Officer\",department:\"Quality Assurance\",role:\"validator\",is_admin:false,created_at:\"2025-08-12T16:45:00Z\",updated_at:\"2025-08-12T16:45:00Z\"},{id:6,username:\"finance1\",full_name:\"Carlos Lopez\",position:\"Finance Manager\",department:\"Finance Department\",role:\"finance\",is_admin:false,created_at:\"2025-08-11T11:30:00Z\",updated_at:\"2025-08-11T11:30:00Z\"}];const mockRoles=['admin','procurement','validator','supplier','auditor','finance'];const roleDescriptions={'admin':'Full system access and user management','procurement':'Create and manage purchase orders','validator':'Approve and validate transactions','supplier':'View and manage supplier information','auditor':'Access audit logs and reports','finance':'Financial reporting and analysis'};const Users=()=>{const{user}=useAuth();const navigate=useNavigate();const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[showModal,setShowModal]=useState(false);const[editingUser,setEditingUser]=useState(null);const[usingMockData,setUsingMockData]=useState(false);const[showToast,setShowToast]=useState(false);const[toastMessage,setToastMessage]=useState('');const[toastType,setToastType]=useState('info');const[searchTerm,setSearchTerm]=useState('');const[formData,setFormData]=useState({username:'',password:'',full_name:'',position:'',department:'',role:'procurement'});const[errors,setErrors]=useState({});// Check if user is admin\nuseEffect(()=>{if(user&&!user.is_admin){setToastMessage('Access denied. Admin privileges required.');setToastType('error');setShowToast(true);setTimeout(()=>navigate('/dashboard'),2000);}},[user,navigate]);// Load users\nuseEffect(()=>{if(user!==null&&user!==void 0&&user.is_admin){fetchUsers();}},[user]);const fetchUsers=async()=>{try{setLoading(true);// Try to fetch from API first\ntry{const response=await apiService.getUsers();setUsers(response);setUsingMockData(false);}catch(apiError){console.log('API not available, using mock data...');// Use mock data if API fails\nsetUsers(mockUsers);setUsingMockData(true);// Show warning toast\nsetToastMessage('Using demo data - backend not available');setToastType('warning');setShowToast(true);}}catch(error){console.error('Failed to load users:',error);// Fallback to mock data\nsetUsers(mockUsers);setUsingMockData(true);setToastMessage('Failed to load users, using demo data');setToastType('warning');setShowToast(true);}finally{setLoading(false);}};const validateForm=()=>{const newErrors={};if(!formData.username.trim()){newErrors.username='Username is required';}if(!editingUser&&!formData.password.trim()){newErrors.password='Password is required';}if(!formData.full_name.trim()){newErrors.full_name='Full name is required';}if(!formData.position.trim()){newErrors.position='Position is required';}if(!formData.department.trim()){newErrors.department='Department is required';}if(!formData.role){newErrors.role='Role is required';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;try{if(usingMockData){// Simulate API call for mock data\nif(editingUser){const updatedUsers=users.map(u=>u.id===editingUser.id?_objectSpread(_objectSpread({},u),{},{full_name:formData.full_name,position:formData.position,department:formData.department,role:formData.role,updated_at:new Date().toISOString()}):u);setUsers(updatedUsers);setToastMessage('User updated successfully (Demo)');}else{const newUser={id:users.length+1,username:formData.username,full_name:formData.full_name,position:formData.position,department:formData.department,role:formData.role,is_admin:formData.role==='admin',created_at:new Date().toISOString(),updated_at:new Date().toISOString()};setUsers([...users,newUser]);setToastMessage('User created successfully (Demo)');}}else{// Real API call\nif(editingUser){await apiService.updateUser(editingUser.id,{full_name:formData.full_name,position:formData.position,department:formData.department,role:formData.role});setToastMessage('User updated successfully');}else{await apiService.createUser({username:formData.username,password:formData.password,full_name:formData.full_name,position:formData.position,department:formData.department,role:formData.role});setToastMessage('User created successfully');}fetchUsers();}setToastType('success');setShowToast(true);setShowModal(false);resetForm();}catch(error){var _error$response,_error$response$data;console.error('Failed to save user:',error);setToastMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to save user');setToastType('error');setShowToast(true);}};const handleDeleteUser=async userId=>{if(!window.confirm('Are you sure you want to delete this user?')){return;}try{if(usingMockData){// Simulate deletion for mock data\nsetUsers(users.filter(u=>u.id!==userId));setToastMessage('User deleted successfully (Demo)');}else{await apiService.deleteUser(userId);setToastMessage('User deleted successfully');fetchUsers();}setToastType('success');setShowToast(true);}catch(error){var _error$response2,_error$response2$data;console.error('Failed to delete user:',error);setToastMessage(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Failed to delete user');setToastType('error');setShowToast(true);}};const resetForm=()=>{setFormData({username:'',password:'',full_name:'',position:'',department:'',role:'procurement'});setErrors({});setEditingUser(null);};const handleShowModal=()=>{resetForm();setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);resetForm();};const startEditUser=user=>{setEditingUser(user);setFormData({username:user.username,password:'',full_name:user.full_name,position:user.position,department:user.department,role:user.role});setShowModal(true);};const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString('en-US',{month:'numeric',day:'numeric',year:'numeric'});};const filteredUsers=users.filter(user=>user.username.toLowerCase().includes(searchTerm.toLowerCase())||user.full_name.toLowerCase().includes(searchTerm.toLowerCase())||user.role.toLowerCase().includes(searchTerm.toLowerCase()));if(!(user!==null&&user!==void 0&&user.is_admin)){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",text:\"Checking permissions...\"})});}if(loading){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",text:\"Loading users...\"})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h2 mb-1\",children:\"User Management\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[\"Manage system users and their roles\",usingMockData&&/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 badge bg-warning text-dark\",children:\"Demo Mode\"})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleShowModal,\"aria-label\":\"Add new user\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle me-2\"}),\"Add User\"]})]})})}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(InputGroup.Text,{children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\"})}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Search users...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),\"aria-label\":\"Search users\"})]})})}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[\"Users (\",filteredUsers.length,\")\"]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Admin\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:user.username})}),/*#__PURE__*/_jsx(\"td\",{children:user.full_name}),/*#__PURE__*/_jsx(\"td\",{children:user.position}),/*#__PURE__*/_jsx(\"td\",{children:user.department}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:user.role==='admin'?'danger':user.role==='procurement'?'primary':user.role==='validator'?'warning':user.role==='supplier'?'info':user.role==='auditor'?'secondary':user.role==='finance'?'success':'secondary',children:user.role})}),/*#__PURE__*/_jsx(\"td\",{children:user.is_admin?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Yes\"}):/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"No\"})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(user.created_at)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>startEditUser(user),\"aria-label\":\"Edit \".concat(user.username),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\"})}),user.id!==1&&/*#__PURE__*/// Prevent deleting the main admin\n_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleDeleteUser(user.id),\"aria-label\":\"Delete \".concat(user.username),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]})})]},user.id))})]})})})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:editingUser?'Edit User':'Create New User'})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"g-3\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"username\",children:\"Username *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"username\",type:\"text\",value:formData.username,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{username:e.target.value})),isInvalid:!!errors.username,disabled:!!editingUser,\"aria-describedby\":\"usernameError\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"usernameError\",children:errors.username})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"password\",children:\"Password *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"password\",type:\"password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),isInvalid:!!errors.password,placeholder:editingUser?'Leave blank to keep current':'',\"aria-describedby\":\"passwordError\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"passwordError\",children:errors.password})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"full_name\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"full_name\",type:\"text\",value:formData.full_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{full_name:e.target.value})),isInvalid:!!errors.full_name,\"aria-describedby\":\"fullNameError\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"fullNameError\",children:errors.full_name})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"position\",children:\"Position *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"position\",type:\"text\",value:formData.position,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{position:e.target.value})),isInvalid:!!errors.position,\"aria-describedby\":\"positionError\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"positionError\",children:errors.position})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"department\",children:\"Department *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"department\",type:\"text\",value:formData.department,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{department:e.target.value})),isInvalid:!!errors.department,\"aria-describedby\":\"departmentError\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"departmentError\",children:errors.department})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"role\",children:\"Role *\"}),/*#__PURE__*/_jsxs(Form.Select,{id:\"role\",value:formData.role,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{role:e.target.value})),isInvalid:!!errors.role,\"aria-describedby\":\"roleError\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Role\"}),mockRoles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role,children:role.charAt(0).toUpperCase()+role.slice(1)},role))]}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"roleError\",children:errors.role}),roleDescriptions[formData.role]&&/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:roleDescriptions[formData.role]})]})})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:editingUser?'Update User':'Create User'})]})]})]}),/*#__PURE__*/_jsx(Toast,{show:showToast,message:toastMessage,type:toastType,onClose:()=>setShowToast(false)})]});};export default Users;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Container","Row","Col","Card","Table","Button","Badge","Form","Modal","InputGroup","apiService","useAuth","LoadingSpinner","Toast","jsx","_jsx","jsxs","_jsxs","mockUsers","id","username","full_name","position","department","role","is_admin","created_at","updated_at","mockRoles","roleDescriptions","Users","user","navigate","users","setUsers","loading","setLoading","showModal","setShowModal","editingUser","setEditingUser","usingMockData","setUsingMockData","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","searchTerm","setSearchTerm","formData","setFormData","password","errors","setErrors","setTimeout","fetchUsers","response","getUsers","apiError","console","log","error","validateForm","newErrors","trim","Object","keys","length","handleSubmit","e","preventDefault","updatedUsers","map","u","_objectSpread","Date","toISOString","newUser","updateUser","createUser","resetForm","_error$response","_error$response$data","data","handleDeleteUser","userId","window","confirm","filter","deleteUser","_error$response2","_error$response2$data","handleShowModal","handleCloseModal","startEditUser","formatDate","dateString","toLocaleDateString","month","day","year","filteredUsers","toLowerCase","includes","children","size","text","className","variant","onClick","md","Text","Control","type","placeholder","value","onChange","target","Header","Body","striped","bordered","bg","concat","show","onHide","closeButton","Title","onSubmit","Group","Label","htmlFor","isInvalid","disabled","Feedback","Select","charAt","toUpperCase","slice","Footer","message","onClose"],"sources":["F:/Project/BLOCKCHAIN/frontend/src/pages/Users.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  Container, Row, Col, Card, Table, Button, Badge, \r\n  Form, Modal, Alert, InputGroup \r\n} from 'react-bootstrap';\r\nimport { apiService, User, CreateUserData } from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport Toast from '../components/Toast';\r\n\r\ninterface UserFormData {\r\n  username: string;\r\n  password: string;\r\n  full_name: string;\r\n  position: string;\r\n  department: string;\r\n  role: string;\r\n}\r\n\r\n// Mock data for demonstration\r\nconst mockUsers: User[] = [\r\n  {\r\n    id: 1,\r\n    username: \"admin\",\r\n    full_name: \"System Administrator\",\r\n    position: \"System Administrator\",\r\n    department: \"IT Department\",\r\n    role: \"admin\",\r\n    is_admin: true,\r\n    created_at: \"2024-01-01T00:00:00Z\",\r\n    updated_at: \"2024-01-01T00:00:00Z\"\r\n  },\r\n  {\r\n    id: 2,\r\n    username: \"procurement0\",\r\n    full_name: \"Juan Dela Cruz\",\r\n    position: \"Procurement Officer\",\r\n    department: \"Procurement Department\",\r\n    role: \"procurement\",\r\n    is_admin: false,\r\n    created_at: \"2025-08-15T10:30:00Z\",\r\n    updated_at: \"2025-08-15T10:30:00Z\"\r\n  },\r\n  {\r\n    id: 3,\r\n    username: \"procurement1\",\r\n    full_name: \"Maria Santos\",\r\n    position: \"Senior Procurement Officer\",\r\n    department: \"Procurement Department\",\r\n    role: \"procurement\",\r\n    is_admin: false,\r\n    created_at: \"2025-08-14T14:20:00Z\",\r\n    updated_at: \"2025-08-14T14:20:00Z\"\r\n  },\r\n  {\r\n    id: 4,\r\n    username: \"procurement2\",\r\n    full_name: \"Pedro Martinez\",\r\n    position: \"Procurement Specialist\",\r\n    department: \"Procurement Department\",\r\n    role: \"procurement\",\r\n    is_admin: false,\r\n    created_at: \"2025-08-13T09:15:00Z\",\r\n    updated_at: \"2025-08-13T09:15:00Z\"\r\n  },\r\n  {\r\n    id: 5,\r\n    username: \"validator1\",\r\n    full_name: \"Ana Reyes\",\r\n    position: \"Validation Officer\",\r\n    department: \"Quality Assurance\",\r\n    role: \"validator\",\r\n    is_admin: false,\r\n    created_at: \"2025-08-12T16:45:00Z\",\r\n    updated_at: \"2025-08-12T16:45:00Z\"\r\n  },\r\n  {\r\n    id: 6,\r\n    username: \"finance1\",\r\n    full_name: \"Carlos Lopez\",\r\n    position: \"Finance Manager\",\r\n    department: \"Finance Department\",\r\n    role: \"finance\",\r\n    is_admin: false,\r\n    created_at: \"2025-08-11T11:30:00Z\",\r\n    updated_at: \"2025-08-11T11:30:00Z\"\r\n  }\r\n];\r\n\r\nconst mockRoles = [\r\n  'admin',\r\n  'procurement',\r\n  'validator',\r\n  'supplier',\r\n  'auditor',\r\n  'finance'\r\n];\r\n\r\nconst roleDescriptions: Record<string, string> = {\r\n  'admin': 'Full system access and user management',\r\n  'procurement': 'Create and manage purchase orders',\r\n  'validator': 'Approve and validate transactions',\r\n  'supplier': 'View and manage supplier information',\r\n  'auditor': 'Access audit logs and reports',\r\n  'finance': 'Financial reporting and analysis'\r\n};\r\n\r\nconst Users: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingUser, setEditingUser] = useState<User | null>(null);\r\n  const [usingMockData, setUsingMockData] = useState(false);\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState('');\r\n  const [toastType, setToastType] = useState<'success' | 'error' | 'warning' | 'info'>('info');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const [formData, setFormData] = useState<UserFormData>({\r\n    username: '',\r\n    password: '',\r\n    full_name: '',\r\n    position: '',\r\n    department: '',\r\n    role: 'procurement'\r\n  });\r\n\r\n  const [errors, setErrors] = useState<{\r\n    username?: string;\r\n    password?: string;\r\n    full_name?: string;\r\n    position?: string;\r\n    department?: string;\r\n    role?: string;\r\n  }>({});\r\n\r\n  // Check if user is admin\r\n  useEffect(() => {\r\n    if (user && !user.is_admin) {\r\n      setToastMessage('Access denied. Admin privileges required.');\r\n      setToastType('error');\r\n      setShowToast(true);\r\n      setTimeout(() => navigate('/dashboard'), 2000);\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  // Load users\r\n  useEffect(() => {\r\n    if (user?.is_admin) {\r\n      fetchUsers();\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Try to fetch from API first\r\n      try {\r\n        const response = await apiService.getUsers();\r\n        setUsers(response);\r\n        setUsingMockData(false);\r\n      } catch (apiError) {\r\n        console.log('API not available, using mock data...');\r\n        // Use mock data if API fails\r\n        setUsers(mockUsers);\r\n        setUsingMockData(true);\r\n        \r\n        // Show warning toast\r\n        setToastMessage('Using demo data - backend not available');\r\n        setToastType('warning');\r\n        setShowToast(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load users:', error);\r\n      // Fallback to mock data\r\n      setUsers(mockUsers);\r\n      setUsingMockData(true);\r\n      \r\n      setToastMessage('Failed to load users, using demo data');\r\n      setToastType('warning');\r\n      setShowToast(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: {\r\n      username?: string;\r\n      password?: string;\r\n      full_name?: string;\r\n      position?: string;\r\n      department?: string;\r\n      role?: string;\r\n    } = {};\r\n\r\n    if (!formData.username.trim()) {\r\n      newErrors.username = 'Username is required';\r\n    }\r\n\r\n    if (!editingUser && !formData.password.trim()) {\r\n      newErrors.password = 'Password is required';\r\n    }\r\n\r\n    if (!formData.full_name.trim()) {\r\n      newErrors.full_name = 'Full name is required';\r\n    }\r\n\r\n    if (!formData.position.trim()) {\r\n      newErrors.position = 'Position is required';\r\n    }\r\n\r\n    if (!formData.department.trim()) {\r\n      newErrors.department = 'Department is required';\r\n    }\r\n\r\n    if (!formData.role) {\r\n      newErrors.role = 'Role is required';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n\r\n    try {\r\n      if (usingMockData) {\r\n        // Simulate API call for mock data\r\n        if (editingUser) {\r\n          const updatedUsers = users.map(u => \r\n            u.id === editingUser.id \r\n              ? { \r\n                  ...u, \r\n                  full_name: formData.full_name,\r\n                  position: formData.position,\r\n                  department: formData.department,\r\n                  role: formData.role,\r\n                  updated_at: new Date().toISOString()\r\n                }\r\n              : u\r\n          );\r\n          setUsers(updatedUsers);\r\n          setToastMessage('User updated successfully (Demo)');\r\n        } else {\r\n          const newUser: User = {\r\n            id: users.length + 1,\r\n            username: formData.username,\r\n            full_name: formData.full_name,\r\n            position: formData.position,\r\n            department: formData.department,\r\n            role: formData.role,\r\n            is_admin: formData.role === 'admin',\r\n            created_at: new Date().toISOString(),\r\n            updated_at: new Date().toISOString()\r\n          };\r\n          setUsers([...users, newUser]);\r\n          setToastMessage('User created successfully (Demo)');\r\n        }\r\n      } else {\r\n        // Real API call\r\n        if (editingUser) {\r\n          await apiService.updateUser(editingUser.id, {\r\n            full_name: formData.full_name,\r\n            position: formData.position,\r\n            department: formData.department,\r\n            role: formData.role\r\n          });\r\n          setToastMessage('User updated successfully');\r\n        } else {\r\n          await apiService.createUser({\r\n            username: formData.username,\r\n            password: formData.password,\r\n            full_name: formData.full_name,\r\n            position: formData.position,\r\n            department: formData.department,\r\n            role: formData.role\r\n          });\r\n          setToastMessage('User created successfully');\r\n        }\r\n        fetchUsers();\r\n      }\r\n      \r\n      setToastType('success');\r\n      setShowToast(true);\r\n      setShowModal(false);\r\n      resetForm();\r\n    } catch (error: any) {\r\n      console.error('Failed to save user:', error);\r\n      setToastMessage(error.response?.data?.error || 'Failed to save user');\r\n      setToastType('error');\r\n      setShowToast(true);\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (userId: number) => {\r\n    if (!window.confirm('Are you sure you want to delete this user?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (usingMockData) {\r\n        // Simulate deletion for mock data\r\n        setUsers(users.filter(u => u.id !== userId));\r\n        setToastMessage('User deleted successfully (Demo)');\r\n      } else {\r\n        await apiService.deleteUser(userId);\r\n        setToastMessage('User deleted successfully');\r\n        fetchUsers();\r\n      }\r\n      setToastType('success');\r\n      setShowToast(true);\r\n    } catch (error: any) {\r\n      console.error('Failed to delete user:', error);\r\n      setToastMessage(error.response?.data?.error || 'Failed to delete user');\r\n      setToastType('error');\r\n      setShowToast(true);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      username: '',\r\n      password: '',\r\n      full_name: '',\r\n      position: '',\r\n      department: '',\r\n      role: 'procurement'\r\n    });\r\n    setErrors({});\r\n    setEditingUser(null);\r\n  };\r\n\r\n  const handleShowModal = () => {\r\n    resetForm();\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    resetForm();\r\n  };\r\n\r\n  const startEditUser = (user: User) => {\r\n    setEditingUser(user);\r\n    setFormData({\r\n      username: user.username,\r\n      password: '',\r\n      full_name: user.full_name,\r\n      position: user.position,\r\n      department: user.department,\r\n      role: user.role\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const formatDate = (dateString: string | undefined): string => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'numeric',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const filteredUsers = users.filter(user =>\r\n    user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    user.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    user.role.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  if (!user?.is_admin) {\r\n    return (\r\n      <Container>\r\n        <LoadingSpinner size=\"lg\" text=\"Checking permissions...\" />\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <LoadingSpinner size=\"lg\" text=\"Loading users...\" />\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h1 className=\"h2 mb-1\">User Management</h1>\r\n              <p className=\"text-muted mb-0\">\r\n                Manage system users and their roles\r\n                {usingMockData && (\r\n                  <span className=\"ms-2 badge bg-warning text-dark\">Demo Mode</span>\r\n                )}\r\n              </p>\r\n            </div>\r\n            <Button \r\n              variant=\"primary\" \r\n              onClick={handleShowModal}\r\n              aria-label=\"Add new user\"\r\n            >\r\n              <i className=\"bi bi-plus-circle me-2\"></i>\r\n              Add User\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Search */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={6}>\r\n          <InputGroup>\r\n            <InputGroup.Text>\r\n              <i className=\"bi bi-search\"></i>\r\n            </InputGroup.Text>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Search users...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              aria-label=\"Search users\"\r\n            />\r\n          </InputGroup>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Users Table */}\r\n      <Card>\r\n        <Card.Header>\r\n          <h5 className=\"mb-0\">Users ({filteredUsers.length})</h5>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-0\">\r\n          <div className=\"table-responsive\">\r\n            <Table striped bordered className=\"mb-0\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Username</th>\r\n                  <th>Full Name</th>\r\n                  <th>Position</th>\r\n                  <th>Department</th>\r\n                  <th>Role</th>\r\n                  <th>Admin</th>\r\n                  <th>Created</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredUsers.map((user) => (\r\n                  <tr key={user.id}>\r\n                    <td>\r\n                      <strong>{user.username}</strong>\r\n                    </td>\r\n                    <td>{user.full_name}</td>\r\n                    <td>{user.position}</td>\r\n                    <td>{user.department}</td>\r\n                    <td>\r\n                      <Badge bg={\r\n                        user.role === 'admin' ? 'danger' :\r\n                        user.role === 'procurement' ? 'primary' :\r\n                        user.role === 'validator' ? 'warning' :\r\n                        user.role === 'supplier' ? 'info' :\r\n                        user.role === 'auditor' ? 'secondary' :\r\n                        user.role === 'finance' ? 'success' : 'secondary'\r\n                      }>\r\n                        {user.role}\r\n                      </Badge>\r\n                    </td>\r\n                    <td>\r\n                      {user.is_admin ? (\r\n                        <Badge bg=\"success\">Yes</Badge>\r\n                      ) : (\r\n                        <Badge bg=\"secondary\">No</Badge>\r\n                      )}\r\n                    </td>\r\n                    <td>{formatDate(user.created_at)}</td>\r\n                    <td>\r\n                      <div className=\"d-flex gap-1\">\r\n                        <Button\r\n                          variant=\"outline-primary\"\r\n                          size=\"sm\"\r\n                          onClick={() => startEditUser(user)}\r\n                          aria-label={`Edit ${user.username}`}\r\n                        >\r\n                          <i className=\"bi bi-pencil\"></i>\r\n                        </Button>\r\n                        {user.id !== 1 && ( // Prevent deleting the main admin\r\n                          <Button\r\n                            variant=\"outline-danger\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleDeleteUser(user.id)}\r\n                            aria-label={`Delete ${user.username}`}\r\n                          >\r\n                            <i className=\"bi bi-trash\"></i>\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* User Modal */}\r\n      <Modal show={showModal} onHide={handleCloseModal} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {editingUser ? 'Edit User' : 'Create New User'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Row className=\"g-3\">\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"username\">Username *</Form.Label>\r\n                  <Form.Control\r\n                    id=\"username\"\r\n                    type=\"text\"\r\n                    value={formData.username}\r\n                    onChange={(e) => setFormData({ ...formData, username: e.target.value })}\r\n                    isInvalid={!!errors.username}\r\n                    disabled={!!editingUser}\r\n                    aria-describedby=\"usernameError\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"usernameError\">\r\n                    {errors.username}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"password\">Password *</Form.Label>\r\n                  <Form.Control\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    value={formData.password}\r\n                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                    isInvalid={!!errors.password}\r\n                    placeholder={editingUser ? 'Leave blank to keep current' : ''}\r\n                    aria-describedby=\"passwordError\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"passwordError\">\r\n                    {errors.password}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"full_name\">Full Name *</Form.Label>\r\n                  <Form.Control\r\n                    id=\"full_name\"\r\n                    type=\"text\"\r\n                    value={formData.full_name}\r\n                    onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\r\n                    isInvalid={!!errors.full_name}\r\n                    aria-describedby=\"fullNameError\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"fullNameError\">\r\n                    {errors.full_name}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"position\">Position *</Form.Label>\r\n                  <Form.Control\r\n                    id=\"position\"\r\n                    type=\"text\"\r\n                    value={formData.position}\r\n                    onChange={(e) => setFormData({ ...formData, position: e.target.value })}\r\n                    isInvalid={!!errors.position}\r\n                    aria-describedby=\"positionError\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"positionError\">\r\n                    {errors.position}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"department\">Department *</Form.Label>\r\n                  <Form.Control\r\n                    id=\"department\"\r\n                    type=\"text\"\r\n                    value={formData.department}\r\n                    onChange={(e) => setFormData({ ...formData, department: e.target.value })}\r\n                    isInvalid={!!errors.department}\r\n                    aria-describedby=\"departmentError\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"departmentError\">\r\n                    {errors.department}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"role\">Role *</Form.Label>\r\n                  <Form.Select\r\n                    id=\"role\"\r\n                    value={formData.role}\r\n                    onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                    isInvalid={!!errors.role}\r\n                    aria-describedby=\"roleError\"\r\n                  >\r\n                    <option value=\"\">Select Role</option>\r\n                    {mockRoles.map(role => (\r\n                      <option key={role} value={role}>\r\n                        {role.charAt(0).toUpperCase() + role.slice(1)}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"roleError\">\r\n                    {errors.role}\r\n                  </Form.Control.Feedback>\r\n                  {roleDescriptions[formData.role] && (\r\n                    <Form.Text className=\"text-muted\">\r\n                      {roleDescriptions[formData.role]}\r\n                    </Form.Text>\r\n                  )}\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n              Cancel\r\n            </Button>\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              {editingUser ? 'Update User' : 'Create User'}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {/* Toast Notification */}\r\n      <Toast\r\n        show={showToast}\r\n        message={toastMessage}\r\n        type={toastType}\r\n        onClose={() => setShowToast(false)}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}