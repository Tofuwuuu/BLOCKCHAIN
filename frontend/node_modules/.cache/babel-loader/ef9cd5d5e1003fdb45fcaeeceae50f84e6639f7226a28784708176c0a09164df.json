{"ast":null,"code":"import _objectSpread from\"F:/Project/BLOCKCHAIN/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Container,Row,Col,Card,Table,Button,Badge,Form,Modal,Alert,InputGroup}from'react-bootstrap';import{apiService}from'../services/api';import{useAuth}from'../contexts/AuthContext';import LoadingSpinner from'../components/LoadingSpinner';import Toast from'../components/Toast';// Mock data for demonstration\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const mockSuppliers=[{id:1,name:\"TechDistributors Inc\",address:\"123 Tech Street, Makati City\",province:\"Metro Manila\",contact_person:\"Juan Dela Cruz\",phone:\"+63 2 1234 5678\",email:\"contact@techdistributors.com\",bir_tin:\"123-456-789-000\",is_active:true,created_at:\"2024-01-01T00:00:00Z\",updated_at:\"2024-01-01T00:00:00Z\"},{id:2,name:\"ABC Supplies\",address:\"456 Supply Avenue, Quezon City\",province:\"Metro Manila\",contact_person:\"Maria Santos\",phone:\"+63 2 2345 6789\",email:\"info@abcsupplies.com\",bir_tin:\"234-567-890-000\",is_active:true,created_at:\"2024-01-02T00:00:00Z\",updated_at:\"2024-01-02T00:00:00Z\"},{id:3,name:\"Metro Manila Electronics\",address:\"789 Electronics Road, Pasig City\",province:\"Metro Manila\",contact_person:\"Pedro Martinez\",phone:\"+63 2 3456 7890\",email:\"sales@metroelectronics.com\",bir_tin:\"345-678-901-000\",is_active:true,created_at:\"2024-01-03T00:00:00Z\",updated_at:\"2024-01-03T00:00:00Z\"}];const mockProducts=[{id:1,name:\"Office Chairs - Ergonomic\",description:\"High-quality ergonomic office chairs with adjustable features\",unit:\"pieces\",unit_price:2500.00,category:\"Office Furniture\",is_active:true},{id:2,name:\"Laptop Stands\",description:\"Adjustable laptop stands for better ergonomics\",unit:\"pieces\",unit_price:800.00,category:\"Office Equipment\",is_active:true},{id:3,name:\"Wireless Keyboards\",description:\"Bluetooth wireless keyboards with backlit keys\",unit:\"pieces\",unit_price:1200.00,category:\"Computer Accessories\",is_active:true},{id:4,name:\"Desk Organizers\",description:\"Multi-compartment desk organizers for office supplies\",unit:\"pieces\",unit_price:350.00,category:\"Office Supplies\",is_active:true}];const mockOrders=[{id:1,po_number:\"PO-20250101-001\",supplier_id:1,supplier:mockSuppliers[0],delivery_address:\"123 Ayala Avenue, Makati City, Philippines\",notes:\"Urgent delivery required\",status:\"Draft\",total_amount:60000.00,date_created:\"2025-01-01T10:30:00Z\",date_updated:\"2025-01-01T10:30:00Z\",items:[{id:1,product_id:1,product:mockProducts[0],quantity:20,unit_price:2500.00,total_price:50000.00},{id:2,product_id:2,product:mockProducts[1],quantity:10,unit_price:800.00,total_price:8000.00}]},{id:2,po_number:\"PO-20250101-002\",supplier_id:2,supplier:mockSuppliers[1],delivery_address:\"456 Supply Avenue, Quezon City, Philippines\",notes:\"Standard delivery\",status:\"Pending\",total_amount:45000.00,date_created:\"2025-01-02T14:15:00Z\",date_updated:\"2025-01-02T14:15:00Z\",items:[{id:3,product_id:3,product:mockProducts[2],quantity:30,unit_price:1200.00,total_price:36000.00},{id:4,product_id:4,product:mockProducts[3],quantity:25,unit_price:350.00,total_price:8750.00}]},{id:3,po_number:\"PO-20250101-003\",supplier_id:3,supplier:mockSuppliers[2],delivery_address:\"789 Electronics Road, Pasig City, Philippines\",notes:\"Premium delivery service\",status:\"Approved\",total_amount:75000.00,date_created:\"2025-01-03T09:45:00Z\",date_updated:\"2025-01-03T09:45:00Z\",items:[{id:5,product_id:1,product:mockProducts[0],quantity:25,unit_price:2500.00,total_price:62500.00},{id:6,product_id:2,product:mockProducts[1],quantity:15,unit_price:800.00,total_price:12000.00}]},{id:4,po_number:\"PO-20250101-004\",supplier_id:1,supplier:mockSuppliers[0],delivery_address:\"123 Ayala Avenue, Makati City, Philippines\",notes:\"Completed order\",status:\"Completed\",total_amount:32000.00,date_created:\"2025-01-04T16:20:00Z\",date_updated:\"2025-01-05T10:30:00Z\",items:[{id:7,product_id:4,product:mockProducts[3],quantity:80,unit_price:350.00,total_price:28000.00},{id:8,product_id:2,product:mockProducts[1],quantity:5,unit_price:800.00,total_price:4000.00}]}];const Orders=()=>{const navigate=useNavigate();const{user}=useAuth();const[orders,setOrders]=useState([]);const[suppliers,setSuppliers]=useState([]);const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[showModal,setShowModal]=useState(false);const[editingOrder,setEditingOrder]=useState(null);const[showToast,setShowToast]=useState(false);const[toastMessage,setToastMessage]=useState('');const[toastType,setToastType]=useState('info');const[searchTerm,setSearchTerm]=useState('');const[usingMockData,setUsingMockData]=useState(false);// Form state\nconst[formData,setFormData]=useState({supplier_id:0,delivery_address:'',notes:'',items:[]});// Form validation\nconst[errors,setErrors]=useState({});useEffect(()=>{fetchData();},[]);const fetchData=async()=>{try{setLoading(true);// Try to fetch from API first\ntry{const[ordersData,suppliersData,productsData]=await Promise.all([apiService.getOrders(),apiService.getSuppliers(),apiService.getProducts()]);setOrders(ordersData);setSuppliers(suppliersData);setProducts(productsData);setUsingMockData(false);}catch(apiError){console.log('API not available, using mock data...');// Use mock data if API fails\nsetOrders(mockOrders);setSuppliers(mockSuppliers);setProducts(mockProducts);setUsingMockData(true);// Show warning toast\nsetToastMessage('Using demo data - backend not available');setToastType('warning');setShowToast(true);}}catch(error){console.error('Failed to fetch data:',error);// Fallback to mock data\nsetOrders(mockOrders);setSuppliers(mockSuppliers);setProducts(mockProducts);setUsingMockData(true);setToastMessage('Failed to load data, using demo data');setToastType('warning');setShowToast(true);}finally{setLoading(false);}};const validateForm=()=>{const newErrors={};if(!formData.supplier_id){newErrors.supplier_id='Supplier is required';}if(!formData.delivery_address.trim()){newErrors.delivery_address='Delivery address is required';}if(formData.items.length===0){newErrors.items='At least one item is required';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;try{if(usingMockData){// Simulate API call for mock data\nconst newOrder={id:orders.length+1,po_number:\"PO-\".concat(new Date().toISOString().slice(0,10).replace(/-/g,''),\"-\").concat(String(orders.length+1).padStart(3,'0')),supplier_id:formData.supplier_id,supplier:suppliers.find(s=>s.id===formData.supplier_id),delivery_address:formData.delivery_address,notes:formData.notes||'',status:'Draft',total_amount:formData.items.reduce((sum,item)=>sum+item.quantity*item.unit_price,0),date_created:new Date().toISOString(),date_updated:new Date().toISOString(),items:formData.items.map((item,index)=>({id:index+1,product_id:item.product_id,product:products.find(p=>p.id===item.product_id),quantity:item.quantity,unit_price:item.unit_price,total_price:item.quantity*item.unit_price}))};if(editingOrder){setOrders(orders.map(order=>order.id===editingOrder.id?_objectSpread(_objectSpread({},newOrder),{},{id:editingOrder.id}):order));setToastMessage('Purchase order updated successfully (Demo)');}else{setOrders([...orders,newOrder]);setToastMessage('Purchase order created successfully (Demo)');}}else{// Real API call\nif(editingOrder){await apiService.updateOrder(editingOrder.id,formData);setToastMessage('Purchase order updated successfully');}else{await apiService.createOrder(formData);setToastMessage('Purchase order created successfully');}fetchData();}setToastType('success');setShowToast(true);setShowModal(false);resetForm();}catch(error){var _error$response,_error$response$data;console.error('Failed to save order:',error);setToastMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to save order');setToastType('error');setShowToast(true);}};const handleApprove=async id=>{try{if(usingMockData){// Simulate approval for mock data\nsetOrders(orders.map(order=>order.id===id?_objectSpread(_objectSpread({},order),{},{status:'Approved'}):order));setToastMessage('Purchase order approved successfully (Demo)');}else{await apiService.approveOrder(id);setToastMessage('Purchase order approved successfully');fetchData();}setToastType('success');setShowToast(true);}catch(error){var _error$response2,_error$response2$data;console.error('Failed to approve order:',error);setToastMessage(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to approve order');setToastType('error');setShowToast(true);}};const handleDelete=async id=>{if(!window.confirm('Are you sure you want to delete this purchase order?'))return;try{if(usingMockData){// Simulate deletion for mock data\nsetOrders(orders.filter(order=>order.id!==id));setToastMessage('Purchase order deleted successfully (Demo)');}else{await apiService.deleteOrder(id);setToastMessage('Purchase order deleted successfully');fetchData();}setToastType('success');setShowToast(true);}catch(error){var _error$response3,_error$response3$data;console.error('Failed to delete order:',error);setToastMessage(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to delete order');setToastType('error');setShowToast(true);}};const addItem=()=>{setFormData(_objectSpread(_objectSpread({},formData),{},{items:[...formData.items,{product_id:0,quantity:1,unit_price:0}]}));};const removeItem=index=>{setFormData(_objectSpread(_objectSpread({},formData),{},{items:formData.items.filter((_,i)=>i!==index)}));};const updateItem=(index,field,value)=>{const newItems=[...formData.items];newItems[index]=_objectSpread(_objectSpread({},newItems[index]),{},{[field]:value});setFormData(_objectSpread(_objectSpread({},formData),{},{items:newItems}));};const resetForm=()=>{setFormData({supplier_id:0,delivery_address:'',notes:'',items:[]});setErrors({});setEditingOrder(null);};const handleShowModal=()=>{resetForm();setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);resetForm();};const formatCurrency=amount=>{return new Intl.NumberFormat('en-PH',{style:'currency',currency:'PHP'}).format(amount);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-PH');};const getStatusBadge=status=>{const statusConfig={'Draft':{variant:'secondary',text:'Draft'},'Pending':{variant:'warning',text:'Pending'},'Approved':{variant:'success',text:'Approved'},'Completed':{variant:'primary',text:'Completed'},'Cancelled':{variant:'danger',text:'Cancelled'}};const config=statusConfig[status]||{variant:'secondary',text:status};return/*#__PURE__*/_jsx(Badge,{bg:config.variant,children:config.text});};const filteredOrders=orders.filter(order=>order.po_number.toLowerCase().includes(searchTerm.toLowerCase())||order.supplier.name.toLowerCase().includes(searchTerm.toLowerCase())||order.status.toLowerCase().includes(searchTerm.toLowerCase()));if(loading){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",text:\"Loading orders...\"})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h2 mb-1\",children:\"Purchase Orders\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[\"Manage purchase orders and track procurement activities\",usingMockData&&/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 badge bg-warning text-dark\",children:\"Demo Mode\"})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleShowModal,\"aria-label\":\"Create new purchase order\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle me-2\"}),\"New Order\"]})]})})}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(InputGroup.Text,{children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\"})}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Search orders...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),\"aria-label\":\"Search orders\"})]})})}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Purchase Orders\"})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-0\",children:filteredOrders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"PO Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Supplier\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date Created\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredOrders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:order.po_number})}),/*#__PURE__*/_jsx(\"td\",{children:order.supplier.name}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(order.date_created)}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadge(order.status)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:formatCurrency(order.total_amount)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>navigate(\"/orders/\".concat(order.id)),\"aria-label\":\"View \".concat(order.po_number),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-eye\"})}),order.status==='Draft'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",size:\"sm\",onClick:()=>handleApprove(order.id),\"aria-label\":\"Approve \".concat(order.po_number),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check\"})}),(user===null||user===void 0?void 0:user.is_admin)&&order.status==='Draft'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleDelete(order.id),\"aria-label\":\"Delete \".concat(order.po_number),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]})})]},order.id))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-cart text-muted\",style:{fontSize:'2rem'}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mt-2\",children:searchTerm?'No orders found matching your search':'No purchase orders found'})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,size:\"xl\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:editingOrder?'Edit Purchase Order':'Create New Purchase Order'})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"g-3\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"supplier\",children:\"Supplier *\"}),/*#__PURE__*/_jsxs(Form.Select,{id:\"supplier\",value:formData.supplier_id,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{supplier_id:Number(e.target.value)})),isInvalid:!!errors.supplier_id,\"aria-describedby\":\"supplierError\",children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"Select Supplier\"}),suppliers.map(supplier=>/*#__PURE__*/_jsx(\"option\",{value:supplier.id,children:supplier.name},supplier.id))]}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"supplierError\",children:errors.supplier_id})]})}),/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"delivery_address\",children:\"Delivery Address *\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"delivery_address\",as:\"textarea\",rows:2,value:formData.delivery_address,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{delivery_address:e.target.value})),isInvalid:!!errors.delivery_address,\"aria-describedby\":\"deliveryAddressError\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",id:\"deliveryAddressError\",children:errors.delivery_address})]})}),/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"notes\",children:\"Notes\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"notes\",as:\"textarea\",rows:2,value:formData.notes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{notes:e.target.value}))})]})}),/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Order Items\"}),/*#__PURE__*/_jsxs(Button,{type:\"button\",variant:\"outline-primary\",size:\"sm\",onClick:addItem,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus me-1\"}),\"Add Item\"]})]}),formData.items.map((item,index)=>/*#__PURE__*/_jsx(Card,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{className:\"g-2\",children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Product\"}),/*#__PURE__*/_jsxs(Form.Select,{value:item.product_id,onChange:e=>updateItem(index,'product_id',Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"Select Product\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.name},product.id))]})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Quantity\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",min:\"1\",value:item.quantity,onChange:e=>updateItem(index,'quantity',Number(e.target.value))})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Unit Price\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",step:\"0.01\",min:\"0\",value:item.unit_price,onChange:e=>updateItem(index,'unit_price',Number(e.target.value))})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Total\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formatCurrency(item.quantity*item.unit_price),readOnly:true,className:\"bg-light\"})]})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\xA0\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-danger\",size:\"sm\",onClick:()=>removeItem(index),className:\"w-100\",\"aria-label\":\"Remove item\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]})})]})})},index)),formData.items.length>0&&/*#__PURE__*/_jsx(Alert,{variant:\"info\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: \",formatCurrency(formData.items.reduce((sum,item)=>sum+item.quantity*item.unit_price,0))]})})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:editingOrder?'Update Order':'Create Order'})]})]})]}),/*#__PURE__*/_jsx(Toast,{show:showToast,message:toastMessage,type:toastType,onClose:()=>setShowToast(false)})]});};export default Orders;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Container","Row","Col","Card","Table","Button","Badge","Form","Modal","Alert","InputGroup","apiService","useAuth","LoadingSpinner","Toast","jsx","_jsx","jsxs","_jsxs","mockSuppliers","id","name","address","province","contact_person","phone","email","bir_tin","is_active","created_at","updated_at","mockProducts","description","unit","unit_price","category","mockOrders","po_number","supplier_id","supplier","delivery_address","notes","status","total_amount","date_created","date_updated","items","product_id","product","quantity","total_price","Orders","navigate","user","orders","setOrders","suppliers","setSuppliers","products","setProducts","loading","setLoading","showModal","setShowModal","editingOrder","setEditingOrder","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","searchTerm","setSearchTerm","usingMockData","setUsingMockData","formData","setFormData","errors","setErrors","fetchData","ordersData","suppliersData","productsData","Promise","all","getOrders","getSuppliers","getProducts","apiError","console","log","error","validateForm","newErrors","trim","length","Object","keys","handleSubmit","e","preventDefault","newOrder","concat","Date","toISOString","slice","replace","String","padStart","find","s","reduce","sum","item","map","index","p","order","_objectSpread","updateOrder","createOrder","resetForm","_error$response","_error$response$data","response","data","message","handleApprove","approveOrder","_error$response2","_error$response2$data","handleDelete","window","confirm","filter","deleteOrder","_error$response3","_error$response3$data","addItem","removeItem","_","i","updateItem","field","value","newItems","handleShowModal","handleCloseModal","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","toLocaleDateString","getStatusBadge","statusConfig","variant","text","config","bg","children","filteredOrders","toLowerCase","includes","size","className","onClick","md","Text","Control","type","placeholder","onChange","target","Header","Body","striped","bordered","is_admin","fontSize","show","onHide","closeButton","Title","onSubmit","Group","Label","htmlFor","Select","Number","isInvalid","Feedback","as","rows","min","step","readOnly","Footer","onClose"],"sources":["F:/Project/BLOCKCHAIN/frontend/src/pages/Orders.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  Container, Row, Col, Card, Table, Button, Badge, \r\n  Form, Modal, Alert, Spinner, InputGroup \r\n} from 'react-bootstrap';\r\nimport { apiService, PurchaseOrder, CreateOrderData, Supplier, Product } from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport Toast from '../components/Toast';\r\n\r\n// Mock data for demonstration\r\nconst mockSuppliers: Supplier[] = [\r\n  {\r\n    id: 1,\r\n    name: \"TechDistributors Inc\",\r\n    address: \"123 Tech Street, Makati City\",\r\n    province: \"Metro Manila\",\r\n    contact_person: \"Juan Dela Cruz\",\r\n    phone: \"+63 2 1234 5678\",\r\n    email: \"contact@techdistributors.com\",\r\n    bir_tin: \"123-456-789-000\",\r\n    is_active: true,\r\n    created_at: \"2024-01-01T00:00:00Z\",\r\n    updated_at: \"2024-01-01T00:00:00Z\"\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"ABC Supplies\",\r\n    address: \"456 Supply Avenue, Quezon City\",\r\n    province: \"Metro Manila\",\r\n    contact_person: \"Maria Santos\",\r\n    phone: \"+63 2 2345 6789\",\r\n    email: \"info@abcsupplies.com\",\r\n    bir_tin: \"234-567-890-000\",\r\n    is_active: true,\r\n    created_at: \"2024-01-02T00:00:00Z\",\r\n    updated_at: \"2024-01-02T00:00:00Z\"\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Metro Manila Electronics\",\r\n    address: \"789 Electronics Road, Pasig City\",\r\n    province: \"Metro Manila\",\r\n    contact_person: \"Pedro Martinez\",\r\n    phone: \"+63 2 3456 7890\",\r\n    email: \"sales@metroelectronics.com\",\r\n    bir_tin: \"345-678-901-000\",\r\n    is_active: true,\r\n    created_at: \"2024-01-03T00:00:00Z\",\r\n    updated_at: \"2024-01-03T00:00:00Z\"\r\n  }\r\n];\r\n\r\nconst mockProducts: Product[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Office Chairs - Ergonomic\",\r\n    description: \"High-quality ergonomic office chairs with adjustable features\",\r\n    unit: \"pieces\",\r\n    unit_price: 2500.00,\r\n    category: \"Office Furniture\",\r\n    is_active: true\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Laptop Stands\",\r\n    description: \"Adjustable laptop stands for better ergonomics\",\r\n    unit: \"pieces\",\r\n    unit_price: 800.00,\r\n    category: \"Office Equipment\",\r\n    is_active: true\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Wireless Keyboards\",\r\n    description: \"Bluetooth wireless keyboards with backlit keys\",\r\n    unit: \"pieces\",\r\n    unit_price: 1200.00,\r\n    category: \"Computer Accessories\",\r\n    is_active: true\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Desk Organizers\",\r\n    description: \"Multi-compartment desk organizers for office supplies\",\r\n    unit: \"pieces\",\r\n    unit_price: 350.00,\r\n    category: \"Office Supplies\",\r\n    is_active: true\r\n  }\r\n];\r\n\r\nconst mockOrders: PurchaseOrder[] = [\r\n  {\r\n    id: 1,\r\n    po_number: \"PO-20250101-001\",\r\n    supplier_id: 1,\r\n    supplier: mockSuppliers[0],\r\n    delivery_address: \"123 Ayala Avenue, Makati City, Philippines\",\r\n    notes: \"Urgent delivery required\",\r\n    status: \"Draft\",\r\n    total_amount: 60000.00,\r\n    date_created: \"2025-01-01T10:30:00Z\",\r\n    date_updated: \"2025-01-01T10:30:00Z\",\r\n    items: [\r\n      {\r\n        id: 1,\r\n        product_id: 1,\r\n        product: mockProducts[0],\r\n        quantity: 20,\r\n        unit_price: 2500.00,\r\n        total_price: 50000.00\r\n      },\r\n      {\r\n        id: 2,\r\n        product_id: 2,\r\n        product: mockProducts[1],\r\n        quantity: 10,\r\n        unit_price: 800.00,\r\n        total_price: 8000.00\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 2,\r\n    po_number: \"PO-20250101-002\",\r\n    supplier_id: 2,\r\n    supplier: mockSuppliers[1],\r\n    delivery_address: \"456 Supply Avenue, Quezon City, Philippines\",\r\n    notes: \"Standard delivery\",\r\n    status: \"Pending\",\r\n    total_amount: 45000.00,\r\n    date_created: \"2025-01-02T14:15:00Z\",\r\n    date_updated: \"2025-01-02T14:15:00Z\",\r\n    items: [\r\n      {\r\n        id: 3,\r\n        product_id: 3,\r\n        product: mockProducts[2],\r\n        quantity: 30,\r\n        unit_price: 1200.00,\r\n        total_price: 36000.00\r\n      },\r\n      {\r\n        id: 4,\r\n        product_id: 4,\r\n        product: mockProducts[3],\r\n        quantity: 25,\r\n        unit_price: 350.00,\r\n        total_price: 8750.00\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 3,\r\n    po_number: \"PO-20250101-003\",\r\n    supplier_id: 3,\r\n    supplier: mockSuppliers[2],\r\n    delivery_address: \"789 Electronics Road, Pasig City, Philippines\",\r\n    notes: \"Premium delivery service\",\r\n    status: \"Approved\",\r\n    total_amount: 75000.00,\r\n    date_created: \"2025-01-03T09:45:00Z\",\r\n    date_updated: \"2025-01-03T09:45:00Z\",\r\n    items: [\r\n      {\r\n        id: 5,\r\n        product_id: 1,\r\n        product: mockProducts[0],\r\n        quantity: 25,\r\n        unit_price: 2500.00,\r\n        total_price: 62500.00\r\n      },\r\n      {\r\n        id: 6,\r\n        product_id: 2,\r\n        product: mockProducts[1],\r\n        quantity: 15,\r\n        unit_price: 800.00,\r\n        total_price: 12000.00\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 4,\r\n    po_number: \"PO-20250101-004\",\r\n    supplier_id: 1,\r\n    supplier: mockSuppliers[0],\r\n    delivery_address: \"123 Ayala Avenue, Makati City, Philippines\",\r\n    notes: \"Completed order\",\r\n    status: \"Completed\",\r\n    total_amount: 32000.00,\r\n    date_created: \"2025-01-04T16:20:00Z\",\r\n    date_updated: \"2025-01-05T10:30:00Z\",\r\n    items: [\r\n      {\r\n        id: 7,\r\n        product_id: 4,\r\n        product: mockProducts[3],\r\n        quantity: 80,\r\n        unit_price: 350.00,\r\n        total_price: 28000.00\r\n      },\r\n      {\r\n        id: 8,\r\n        product_id: 2,\r\n        product: mockProducts[1],\r\n        quantity: 5,\r\n        unit_price: 800.00,\r\n        total_price: 4000.00\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst Orders: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [orders, setOrders] = useState<PurchaseOrder[]>([]);\r\n  const [suppliers, setSuppliers] = useState<Supplier[]>([]);\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingOrder, setEditingOrder] = useState<PurchaseOrder | null>(null);\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState('');\r\n  const [toastType, setToastType] = useState<'success' | 'error' | 'warning' | 'info'>('info');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [usingMockData, setUsingMockData] = useState(false);\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState<CreateOrderData>({\r\n    supplier_id: 0,\r\n    delivery_address: '',\r\n    notes: '',\r\n    items: []\r\n  });\r\n\r\n  // Form validation\r\n  const [errors, setErrors] = useState<{\r\n    supplier_id?: string;\r\n    delivery_address?: string;\r\n    notes?: string;\r\n    items?: string;\r\n  }>({});\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Try to fetch from API first\r\n      try {\r\n        const [ordersData, suppliersData, productsData] = await Promise.all([\r\n          apiService.getOrders(),\r\n          apiService.getSuppliers(),\r\n          apiService.getProducts()\r\n        ]);\r\n        setOrders(ordersData);\r\n        setSuppliers(suppliersData);\r\n        setProducts(productsData);\r\n        setUsingMockData(false);\r\n      } catch (apiError) {\r\n        console.log('API not available, using mock data...');\r\n        // Use mock data if API fails\r\n        setOrders(mockOrders);\r\n        setSuppliers(mockSuppliers);\r\n        setProducts(mockProducts);\r\n        setUsingMockData(true);\r\n        \r\n        // Show warning toast\r\n        setToastMessage('Using demo data - backend not available');\r\n        setToastType('warning');\r\n        setShowToast(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch data:', error);\r\n      // Fallback to mock data\r\n      setOrders(mockOrders);\r\n      setSuppliers(mockSuppliers);\r\n      setProducts(mockProducts);\r\n      setUsingMockData(true);\r\n      \r\n      setToastMessage('Failed to load data, using demo data');\r\n      setToastType('warning');\r\n      setShowToast(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: {\r\n      supplier_id?: string;\r\n      delivery_address?: string;\r\n      notes?: string;\r\n      items?: string;\r\n    } = {};\r\n\r\n    if (!formData.supplier_id) {\r\n      newErrors.supplier_id = 'Supplier is required';\r\n    }\r\n\r\n    if (!formData.delivery_address.trim()) {\r\n      newErrors.delivery_address = 'Delivery address is required';\r\n    }\r\n\r\n    if (formData.items.length === 0) {\r\n      newErrors.items = 'At least one item is required';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n\r\n    try {\r\n      if (usingMockData) {\r\n        // Simulate API call for mock data\r\n        const newOrder: PurchaseOrder = {\r\n          id: orders.length + 1,\r\n          po_number: `PO-${new Date().toISOString().slice(0, 10).replace(/-/g, '')}-${String(orders.length + 1).padStart(3, '0')}`,\r\n          supplier_id: formData.supplier_id,\r\n          supplier: suppliers.find(s => s.id === formData.supplier_id)!,\r\n          delivery_address: formData.delivery_address,\r\n          notes: formData.notes || '',\r\n          status: 'Draft',\r\n          total_amount: formData.items.reduce((sum, item) => sum + (item.quantity * item.unit_price), 0),\r\n          date_created: new Date().toISOString(),\r\n          date_updated: new Date().toISOString(),\r\n          items: formData.items.map((item, index) => ({\r\n            id: index + 1,\r\n            product_id: item.product_id,\r\n            product: products.find(p => p.id === item.product_id)!,\r\n            quantity: item.quantity,\r\n            unit_price: item.unit_price,\r\n            total_price: item.quantity * item.unit_price\r\n          }))\r\n        };\r\n\r\n        if (editingOrder) {\r\n          setOrders(orders.map(order => order.id === editingOrder.id ? { ...newOrder, id: editingOrder.id } : order));\r\n          setToastMessage('Purchase order updated successfully (Demo)');\r\n        } else {\r\n          setOrders([...orders, newOrder]);\r\n          setToastMessage('Purchase order created successfully (Demo)');\r\n        }\r\n      } else {\r\n        // Real API call\r\n        if (editingOrder) {\r\n          await apiService.updateOrder(editingOrder.id, formData);\r\n          setToastMessage('Purchase order updated successfully');\r\n        } else {\r\n          await apiService.createOrder(formData);\r\n          setToastMessage('Purchase order created successfully');\r\n        }\r\n        fetchData();\r\n      }\r\n      \r\n      setToastType('success');\r\n      setShowToast(true);\r\n      setShowModal(false);\r\n      resetForm();\r\n    } catch (error: any) {\r\n      console.error('Failed to save order:', error);\r\n      setToastMessage(error.response?.data?.message || 'Failed to save order');\r\n      setToastType('error');\r\n      setShowToast(true);\r\n    }\r\n  };\r\n\r\n  const handleApprove = async (id: number) => {\r\n    try {\r\n      if (usingMockData) {\r\n        // Simulate approval for mock data\r\n        setOrders(orders.map(order => \r\n          order.id === id ? { ...order, status: 'Approved' as const } : order\r\n        ));\r\n        setToastMessage('Purchase order approved successfully (Demo)');\r\n      } else {\r\n        await apiService.approveOrder(id);\r\n        setToastMessage('Purchase order approved successfully');\r\n        fetchData();\r\n      }\r\n      setToastType('success');\r\n      setShowToast(true);\r\n    } catch (error: any) {\r\n      console.error('Failed to approve order:', error);\r\n      setToastMessage(error.response?.data?.message || 'Failed to approve order');\r\n      setToastType('error');\r\n      setShowToast(true);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!window.confirm('Are you sure you want to delete this purchase order?')) return;\r\n\r\n    try {\r\n      if (usingMockData) {\r\n        // Simulate deletion for mock data\r\n        setOrders(orders.filter(order => order.id !== id));\r\n        setToastMessage('Purchase order deleted successfully (Demo)');\r\n      } else {\r\n        await apiService.deleteOrder(id);\r\n        setToastMessage('Purchase order deleted successfully');\r\n        fetchData();\r\n      }\r\n      setToastType('success');\r\n      setShowToast(true);\r\n    } catch (error: any) {\r\n      console.error('Failed to delete order:', error);\r\n      setToastMessage(error.response?.data?.message || 'Failed to delete order');\r\n      setToastType('error');\r\n      setShowToast(true);\r\n    }\r\n  };\r\n\r\n  const addItem = () => {\r\n    setFormData({\r\n      ...formData,\r\n      items: [...formData.items, { product_id: 0, quantity: 1, unit_price: 0 }]\r\n    });\r\n  };\r\n\r\n  const removeItem = (index: number) => {\r\n    setFormData({\r\n      ...formData,\r\n      items: formData.items.filter((_, i) => i !== index)\r\n    });\r\n  };\r\n\r\n  const updateItem = (index: number, field: string, value: any) => {\r\n    const newItems = [...formData.items];\r\n    newItems[index] = { ...newItems[index], [field]: value };\r\n    setFormData({ ...formData, items: newItems });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      supplier_id: 0,\r\n      delivery_address: '',\r\n      notes: '',\r\n      items: []\r\n    });\r\n    setErrors({});\r\n    setEditingOrder(null);\r\n  };\r\n\r\n  const handleShowModal = () => {\r\n    resetForm();\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    resetForm();\r\n  };\r\n\r\n  const formatCurrency = (amount: number): string => {\r\n    return new Intl.NumberFormat('en-PH', {\r\n      style: 'currency',\r\n      currency: 'PHP',\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatDate = (dateString: string): string => {\r\n    return new Date(dateString).toLocaleDateString('en-PH');\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const statusConfig = {\r\n      'Draft': { variant: 'secondary', text: 'Draft' },\r\n      'Pending': { variant: 'warning', text: 'Pending' },\r\n      'Approved': { variant: 'success', text: 'Approved' },\r\n      'Completed': { variant: 'primary', text: 'Completed' },\r\n      'Cancelled': { variant: 'danger', text: 'Cancelled' },\r\n    };\r\n\r\n    const config = statusConfig[status as keyof typeof statusConfig] || { \r\n      variant: 'secondary', \r\n      text: status \r\n    };\r\n\r\n    return <Badge bg={config.variant}>{config.text}</Badge>;\r\n  };\r\n\r\n  const filteredOrders = orders.filter(order =>\r\n    order.po_number.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.supplier.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.status.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <LoadingSpinner size=\"lg\" text=\"Loading orders...\" />\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h1 className=\"h2 mb-1\">Purchase Orders</h1>\r\n              <p className=\"text-muted mb-0\">\r\n                Manage purchase orders and track procurement activities\r\n                {usingMockData && (\r\n                  <span className=\"ms-2 badge bg-warning text-dark\">Demo Mode</span>\r\n                )}\r\n              </p>\r\n            </div>\r\n            <Button \r\n              variant=\"primary\" \r\n              onClick={handleShowModal}\r\n              aria-label=\"Create new purchase order\"\r\n            >\r\n              <i className=\"bi bi-plus-circle me-2\"></i>\r\n              New Order\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Search */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={6}>\r\n          <InputGroup>\r\n            <InputGroup.Text>\r\n              <i className=\"bi bi-search\"></i>\r\n            </InputGroup.Text>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Search orders...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              aria-label=\"Search orders\"\r\n            />\r\n          </InputGroup>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Orders Table */}\r\n      <Card>\r\n        <Card.Header>\r\n          <h5 className=\"mb-0\">Purchase Orders</h5>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-0\">\r\n          {filteredOrders.length > 0 ? (\r\n            <div className=\"table-responsive\">\r\n              <Table striped bordered className=\"mb-0\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>PO Number</th>\r\n                    <th>Supplier</th>\r\n                    <th>Date Created</th>\r\n                    <th>Status</th>\r\n                    <th>Total Amount</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredOrders.map((order) => (\r\n                    <tr key={order.id}>\r\n                      <td>\r\n                        <strong>{order.po_number}</strong>\r\n                      </td>\r\n                      <td>{order.supplier.name}</td>\r\n                      <td>{formatDate(order.date_created)}</td>\r\n                      <td>{getStatusBadge(order.status)}</td>\r\n                      <td>\r\n                        <strong>{formatCurrency(order.total_amount)}</strong>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex gap-1\">\r\n                          <Button\r\n                            variant=\"outline-primary\"\r\n                            size=\"sm\"\r\n                            onClick={() => navigate(`/orders/${order.id}`)}\r\n                            aria-label={`View ${order.po_number}`}\r\n                          >\r\n                            <i className=\"bi bi-eye\"></i>\r\n                          </Button>\r\n                          {order.status === 'Draft' && (\r\n                            <Button\r\n                              variant=\"outline-success\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleApprove(order.id)}\r\n                              aria-label={`Approve ${order.po_number}`}\r\n                            >\r\n                              <i className=\"bi bi-check\"></i>\r\n                            </Button>\r\n                          )}\r\n                          {user?.is_admin && order.status === 'Draft' && (\r\n                            <Button\r\n                              variant=\"outline-danger\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleDelete(order.id)}\r\n                              aria-label={`Delete ${order.po_number}`}\r\n                            >\r\n                              <i className=\"bi bi-trash\"></i>\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-4\">\r\n              <i className=\"bi bi-cart text-muted\" style={{ fontSize: '2rem' }}></i>\r\n              <p className=\"text-muted mt-2\">\r\n                {searchTerm ? 'No orders found matching your search' : 'No purchase orders found'}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Order Modal */}\r\n      <Modal show={showModal} onHide={handleCloseModal} size=\"xl\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {editingOrder ? 'Edit Purchase Order' : 'Create New Purchase Order'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Row className=\"g-3\">\r\n              <Col md={6}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"supplier\">Supplier *</Form.Label>\r\n                  <Form.Select\r\n                    id=\"supplier\"\r\n                    value={formData.supplier_id}\r\n                    onChange={(e) => setFormData({ ...formData, supplier_id: Number(e.target.value) })}\r\n                    isInvalid={!!errors.supplier_id}\r\n                    aria-describedby=\"supplierError\"\r\n                  >\r\n                    <option value={0}>Select Supplier</option>\r\n                    {suppliers.map(supplier => (\r\n                      <option key={supplier.id} value={supplier.id}>{supplier.name}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"supplierError\">\r\n                    {errors.supplier_id}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={12}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"delivery_address\">Delivery Address *</Form.Label>\r\n                  <Form.Control\r\n                    id=\"delivery_address\"\r\n                    as=\"textarea\"\r\n                    rows={2}\r\n                    value={formData.delivery_address}\r\n                    onChange={(e) => setFormData({ ...formData, delivery_address: e.target.value })}\r\n                    isInvalid={!!errors.delivery_address}\r\n                    aria-describedby=\"deliveryAddressError\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\" id=\"deliveryAddressError\">\r\n                    {errors.delivery_address}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={12}>\r\n                <Form.Group>\r\n                  <Form.Label htmlFor=\"notes\">Notes</Form.Label>\r\n                  <Form.Control\r\n                    id=\"notes\"\r\n                    as=\"textarea\"\r\n                    rows={2}\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n\r\n              <Col md={12}>\r\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                  <h6>Order Items</h6>\r\n                  <Button type=\"button\" variant=\"outline-primary\" size=\"sm\" onClick={addItem}>\r\n                    <i className=\"bi bi-plus me-1\"></i>\r\n                    Add Item\r\n                  </Button>\r\n                </div>\r\n\r\n                {formData.items.map((item, index) => (\r\n                  <Card key={index} className=\"mb-3\">\r\n                    <Card.Body>\r\n                      <Row className=\"g-2\">\r\n                        <Col md={4}>\r\n                          <Form.Group>\r\n                            <Form.Label>Product</Form.Label>\r\n                            <Form.Select\r\n                              value={item.product_id}\r\n                              onChange={(e) => updateItem(index, 'product_id', Number(e.target.value))}\r\n                            >\r\n                              <option value={0}>Select Product</option>\r\n                              {products.map(product => (\r\n                                <option key={product.id} value={product.id}>{product.name}</option>\r\n                              ))}\r\n                            </Form.Select>\r\n                          </Form.Group>\r\n                        </Col>\r\n                        <Col md={2}>\r\n                          <Form.Group>\r\n                            <Form.Label>Quantity</Form.Label>\r\n                            <Form.Control\r\n                              type=\"number\"\r\n                              min=\"1\"\r\n                              value={item.quantity}\r\n                              onChange={(e) => updateItem(index, 'quantity', Number(e.target.value))}\r\n                            />\r\n                          </Form.Group>\r\n                        </Col>\r\n                        <Col md={3}>\r\n                          <Form.Group>\r\n                            <Form.Label>Unit Price</Form.Label>\r\n                            <Form.Control\r\n                              type=\"number\"\r\n                              step=\"0.01\"\r\n                              min=\"0\"\r\n                              value={item.unit_price}\r\n                              onChange={(e) => updateItem(index, 'unit_price', Number(e.target.value))}\r\n                            />\r\n                          </Form.Group>\r\n                        </Col>\r\n                        <Col md={2}>\r\n                          <Form.Group>\r\n                            <Form.Label>Total</Form.Label>\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              value={formatCurrency(item.quantity * item.unit_price)}\r\n                              readOnly\r\n                              className=\"bg-light\"\r\n                            />\r\n                          </Form.Group>\r\n                        </Col>\r\n                        <Col md={1}>\r\n                          <Form.Group>\r\n                            <Form.Label>&nbsp;</Form.Label>\r\n                            <Button\r\n                              type=\"button\"\r\n                              variant=\"outline-danger\"\r\n                              size=\"sm\"\r\n                              onClick={() => removeItem(index)}\r\n                              className=\"w-100\"\r\n                              aria-label=\"Remove item\"\r\n                            >\r\n                              <i className=\"bi bi-trash\"></i>\r\n                            </Button>\r\n                          </Form.Group>\r\n                        </Col>\r\n                      </Row>\r\n                    </Card.Body>\r\n                  </Card>\r\n                ))}\r\n\r\n                {formData.items.length > 0 && (\r\n                  <Alert variant=\"info\">\r\n                    <strong>Total: {formatCurrency(\r\n                      formData.items.reduce((sum, item) => sum + (item.quantity * item.unit_price), 0)\r\n                    )}</strong>\r\n                  </Alert>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n              Cancel\r\n            </Button>\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              {editingOrder ? 'Update Order' : 'Create Order'}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {/* Toast Notification */}\r\n      <Toast\r\n        show={showToast}\r\n        message={toastMessage}\r\n        type={toastType}\r\n        onClose={() => setShowToast(false)}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}