{"ast":null,"code":"var _jsxFileName = \"F:\\\\Project\\\\BLOCKCHAIN\\\\frontend\\\\src\\\\pages\\\\Users.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport apiService from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport Layout from '../components/Layout';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport Toast from '../components/Toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Users = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [roles, setRoles] = useState([]);\n  const [roleDescriptions, setRoleDescriptions] = useState({});\n  const [toast, setToast] = useState({\n    show: false,\n    message: '',\n    type: 'success'\n  });\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    full_name: '',\n    position: '',\n    department: '',\n    role: 'procurement'\n  });\n\n  // Check if user is admin\n  useEffect(() => {\n    if (user && !user.is_admin) {\n      setToast({\n        show: true,\n        message: 'Access denied. Admin privileges required.',\n        type: 'error'\n      });\n      setTimeout(() => navigate('/dashboard'), 2000);\n    }\n  }, [user, navigate]);\n\n  // Load users and roles\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.is_admin) {\n      loadUsers();\n      loadRoles();\n    }\n  }, [user]);\n  const loadUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getUsers();\n      setUsers(response);\n    } catch (error) {\n      console.error('Failed to load users:', error);\n      setToast({\n        show: true,\n        message: 'Failed to load users',\n        type: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadRoles = async () => {\n    try {\n      const response = await apiService.getRoles();\n      setRoles(response.roles);\n      setRoleDescriptions(response.descriptions);\n    } catch (error) {\n      console.error('Failed to load roles:', error);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const resetForm = () => {\n    setFormData({\n      username: '',\n      password: '',\n      full_name: '',\n      position: '',\n      department: '',\n      role: 'procurement'\n    });\n    setEditingUser(null);\n    setShowCreateForm(false);\n  };\n  const handleCreateUser = async e => {\n    e.preventDefault();\n    try {\n      const userData = {\n        username: formData.username,\n        password: formData.password,\n        full_name: formData.full_name,\n        position: formData.position,\n        department: formData.department,\n        role: formData.role\n      };\n      await apiService.createUser(userData);\n      setToast({\n        show: true,\n        message: 'User created successfully',\n        type: 'success'\n      });\n      resetForm();\n      loadUsers();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Failed to create user:', error);\n      setToast({\n        show: true,\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to create user',\n        type: 'error'\n      });\n    }\n  };\n  const handleEditUser = async e => {\n    e.preventDefault();\n    if (!editingUser) return;\n    try {\n      const userData = {\n        full_name: formData.full_name,\n        position: formData.position,\n        department: formData.department,\n        role: formData.role\n      };\n      await apiService.updateUser(editingUser.id, userData);\n      setToast({\n        show: true,\n        message: 'User updated successfully',\n        type: 'success'\n      });\n      resetForm();\n      loadUsers();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Failed to update user:', error);\n      setToast({\n        show: true,\n        message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to update user',\n        type: 'error'\n      });\n    }\n  };\n  const handleDeleteUser = async userId => {\n    if (!window.confirm('Are you sure you want to delete this user?')) {\n      return;\n    }\n    try {\n      await apiService.deleteUser(userId);\n      setToast({\n        show: true,\n        message: 'User deleted successfully',\n        type: 'success'\n      });\n      loadUsers();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Failed to delete user:', error);\n      setToast({\n        show: true,\n        message: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to delete user',\n        type: 'error'\n      });\n    }\n  };\n  const startEditUser = user => {\n    setEditingUser(user);\n    setFormData({\n      username: user.username,\n      password: '',\n      full_name: user.full_name,\n      position: user.position,\n      department: user.department,\n      role: user.role\n    });\n    setShowCreateForm(true);\n  };\n  if (!(user !== null && user !== void 0 && user.is_admin)) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 12\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-0\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setShowCreateForm(true),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), \"Add User\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-0\",\n            children: editingUser ? 'Edit User' : 'Create New User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: editingUser ? handleEditUser : handleCreateUser,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Username *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"username\",\n                  value: formData.username,\n                  onChange: handleInputChange,\n                  required: true,\n                  disabled: !!editingUser\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Password *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  name: \"password\",\n                  value: formData.password,\n                  onChange: handleInputChange,\n                  required: !editingUser,\n                  placeholder: editingUser ? 'Leave blank to keep current' : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Full Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"full_name\",\n                  value: formData.full_name,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Position *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"position\",\n                  value: formData.position,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Department *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"department\",\n                  value: formData.department,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Role *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  name: \"role\",\n                  value: formData.role,\n                  onChange: handleInputChange,\n                  required: true,\n                  children: roles.map(role => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: role,\n                    children: role.charAt(0).toUpperCase() + role.slice(1)\n                  }, role, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), roleDescriptions[formData.role] && /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"form-text text-muted\",\n                  children: roleDescriptions[formData.role]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: editingUser ? 'Update User' : 'Create User'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: resetForm,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-0\",\n            children: [\"Users (\", users.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-striped\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Full Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Position\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Department\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Created\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.full_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.position\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.department\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `badge bg-${user.role === 'admin' ? 'danger' : user.role === 'procurement' ? 'primary' : 'secondary'}`,\n                      children: user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.is_admin ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-success\",\n                      children: \"Yes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-secondary\",\n                      children: \"No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: user.created_at ? new Date(user.created_at).toLocaleDateString() : 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"btn-group btn-group-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-outline-primary\",\n                        onClick: () => startEditUser(user),\n                        title: \"Edit User\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-edit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 391,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 27\n                      }, this), user.id !== 1 &&\n                      /*#__PURE__*/\n                      // Prevent deleting the main admin\n                      _jsxDEV(\"button\", {\n                        className: \"btn btn-outline-danger\",\n                        onClick: () => handleDeleteUser(user.id),\n                        title: \"Delete User\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-trash\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 399,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 394,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 23\n                  }, this)]\n                }, user.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      show: toast.show,\n      message: toast.message,\n      type: toast.type,\n      onClose: () => setToast({\n        ...toast,\n        show: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n};\n_s(Users, \"QkqlqauXGOkKMgMc5XwWp9JRZJ0=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","apiService","useAuth","Layout","LoadingSpinner","Toast","jsxDEV","_jsxDEV","Users","_s","user","navigate","users","setUsers","loading","setLoading","showCreateForm","setShowCreateForm","editingUser","setEditingUser","roles","setRoles","roleDescriptions","setRoleDescriptions","toast","setToast","show","message","type","formData","setFormData","username","password","full_name","position","department","role","is_admin","setTimeout","loadUsers","loadRoles","response","getUsers","error","console","getRoles","descriptions","handleInputChange","e","name","value","target","prev","resetForm","handleCreateUser","preventDefault","userData","createUser","_error$response","_error$response$data","data","handleEditUser","updateUser","id","_error$response2","_error$response2$data","handleDeleteUser","userId","window","confirm","deleteUser","_error$response3","_error$response3$data","startEditUser","fileName","_jsxFileName","lineNumber","columnNumber","children","className","onClick","onSubmit","onChange","required","disabled","placeholder","map","charAt","toUpperCase","slice","length","created_at","Date","toLocaleDateString","title","onClose","_c","$RefreshReg$"],"sources":["F:/Project/BLOCKCHAIN/frontend/src/pages/Users.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport apiService from '../services/api';\r\nimport { User, CreateUserData } from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport Layout from '../components/Layout';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport Toast from '../components/Toast';\r\n\r\ninterface UserFormData {\r\n  username: string;\r\n  password: string;\r\n  full_name: string;\r\n  position: string;\r\n  department: string;\r\n  role: string;\r\n}\r\n\r\nconst Users: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateForm, setShowCreateForm] = useState(false);\r\n  const [editingUser, setEditingUser] = useState<User | null>(null);\r\n  const [roles, setRoles] = useState<string[]>([]);\r\n  const [roleDescriptions, setRoleDescriptions] = useState<Record<string, string>>({});\r\n  const [toast, setToast] = useState<{ show: boolean; message: string; type: 'success' | 'error' }>({\r\n    show: false,\r\n    message: '',\r\n    type: 'success'\r\n  });\r\n\r\n  const [formData, setFormData] = useState<UserFormData>({\r\n    username: '',\r\n    password: '',\r\n    full_name: '',\r\n    position: '',\r\n    department: '',\r\n    role: 'procurement'\r\n  });\r\n\r\n  // Check if user is admin\r\n  useEffect(() => {\r\n    if (user && !user.is_admin) {\r\n      setToast({\r\n        show: true,\r\n        message: 'Access denied. Admin privileges required.',\r\n        type: 'error'\r\n      });\r\n      setTimeout(() => navigate('/dashboard'), 2000);\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  // Load users and roles\r\n  useEffect(() => {\r\n    if (user?.is_admin) {\r\n      loadUsers();\r\n      loadRoles();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await apiService.getUsers();\r\n      setUsers(response);\r\n    } catch (error) {\r\n      console.error('Failed to load users:', error);\r\n      setToast({\r\n        show: true,\r\n        message: 'Failed to load users',\r\n        type: 'error'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadRoles = async () => {\r\n    try {\r\n      const response = await apiService.getRoles();\r\n      setRoles(response.roles);\r\n      setRoleDescriptions(response.descriptions);\r\n    } catch (error) {\r\n      console.error('Failed to load roles:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      username: '',\r\n      password: '',\r\n      full_name: '',\r\n      position: '',\r\n      department: '',\r\n      role: 'procurement'\r\n    });\r\n    setEditingUser(null);\r\n    setShowCreateForm(false);\r\n  };\r\n\r\n  const handleCreateUser = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const userData: CreateUserData = {\r\n        username: formData.username,\r\n        password: formData.password,\r\n        full_name: formData.full_name,\r\n        position: formData.position,\r\n        department: formData.department,\r\n        role: formData.role\r\n      };\r\n\r\n      await apiService.createUser(userData);\r\n      setToast({\r\n        show: true,\r\n        message: 'User created successfully',\r\n        type: 'success'\r\n      });\r\n      resetForm();\r\n      loadUsers();\r\n    } catch (error: any) {\r\n      console.error('Failed to create user:', error);\r\n      setToast({\r\n        show: true,\r\n        message: error.response?.data?.error || 'Failed to create user',\r\n        type: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEditUser = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!editingUser) return;\r\n\r\n    try {\r\n      const userData = {\r\n        full_name: formData.full_name,\r\n        position: formData.position,\r\n        department: formData.department,\r\n        role: formData.role\r\n      };\r\n\r\n      await apiService.updateUser(editingUser.id, userData);\r\n      setToast({\r\n        show: true,\r\n        message: 'User updated successfully',\r\n        type: 'success'\r\n      });\r\n      resetForm();\r\n      loadUsers();\r\n    } catch (error: any) {\r\n      console.error('Failed to update user:', error);\r\n      setToast({\r\n        show: true,\r\n        message: error.response?.data?.error || 'Failed to update user',\r\n        type: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (userId: number) => {\r\n    if (!window.confirm('Are you sure you want to delete this user?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await apiService.deleteUser(userId);\r\n      setToast({\r\n        show: true,\r\n        message: 'User deleted successfully',\r\n        type: 'success'\r\n      });\r\n      loadUsers();\r\n    } catch (error: any) {\r\n      console.error('Failed to delete user:', error);\r\n      setToast({\r\n        show: true,\r\n        message: error.response?.data?.error || 'Failed to delete user',\r\n        type: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const startEditUser = (user: User) => {\r\n    setEditingUser(user);\r\n    setFormData({\r\n      username: user.username,\r\n      password: '',\r\n      full_name: user.full_name,\r\n      position: user.position,\r\n      department: user.department,\r\n      role: user.role\r\n    });\r\n    setShowCreateForm(true);\r\n  };\r\n\r\n  if (!user?.is_admin) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n          <h1 className=\"h3 mb-0\">User Management</h1>\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => setShowCreateForm(true)}\r\n          >\r\n            <i className=\"fas fa-plus me-2\"></i>\r\n            Add User\r\n          </button>\r\n        </div>\r\n\r\n        {/* Create/Edit User Form */}\r\n        {showCreateForm && (\r\n          <div className=\"card mb-4\">\r\n            <div className=\"card-header\">\r\n              <h5 className=\"mb-0\">\r\n                {editingUser ? 'Edit User' : 'Create New User'}\r\n              </h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={editingUser ? handleEditUser : handleCreateUser}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label\">Username *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"username\"\r\n                      value={formData.username}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      disabled={!!editingUser}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label\">Password *</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      value={formData.password}\r\n                      onChange={handleInputChange}\r\n                      required={!editingUser}\r\n                      placeholder={editingUser ? 'Leave blank to keep current' : ''}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label\">Full Name *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"full_name\"\r\n                      value={formData.full_name}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label\">Position *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"position\"\r\n                      value={formData.position}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label\">Department *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"department\"\r\n                      value={formData.department}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label className=\"form-label\">Role *</label>\r\n                    <select\r\n                      className=\"form-select\"\r\n                      name=\"role\"\r\n                      value={formData.role}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    >\r\n                      {roles.map(role => (\r\n                        <option key={role} value={role}>\r\n                          {role.charAt(0).toUpperCase() + role.slice(1)}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {roleDescriptions[formData.role] && (\r\n                      <small className=\"form-text text-muted\">\r\n                        {roleDescriptions[formData.role]}\r\n                      </small>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex gap-2\">\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    {editingUser ? 'Update User' : 'Create User'}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={resetForm}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Users List */}\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h5 className=\"mb-0\">Users ({users.length})</h5>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>Username</th>\r\n                    <th>Full Name</th>\r\n                    <th>Position</th>\r\n                    <th>Department</th>\r\n                    <th>Role</th>\r\n                    <th>Admin</th>\r\n                    <th>Created</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users.map(user => (\r\n                    <tr key={user.id}>\r\n                      <td>{user.id}</td>\r\n                      <td>{user.username}</td>\r\n                      <td>{user.full_name}</td>\r\n                      <td>{user.position}</td>\r\n                      <td>{user.department}</td>\r\n                      <td>\r\n                        <span className={`badge bg-${user.role === 'admin' ? 'danger' : user.role === 'procurement' ? 'primary' : 'secondary'}`}>\r\n                          {user.role}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        {user.is_admin ? (\r\n                          <span className=\"badge bg-success\">Yes</span>\r\n                        ) : (\r\n                          <span className=\"badge bg-secondary\">No</span>\r\n                        )}\r\n                      </td>\r\n                      <td>{user.created_at ? new Date(user.created_at).toLocaleDateString() : 'N/A'}</td>\r\n                      <td>\r\n                        <div className=\"btn-group btn-group-sm\">\r\n                          <button\r\n                            className=\"btn btn-outline-primary\"\r\n                            onClick={() => startEditUser(user)}\r\n                            title=\"Edit User\"\r\n                          >\r\n                            <i className=\"fas fa-edit\"></i>\r\n                          </button>\r\n                          {user.id !== 1 && ( // Prevent deleting the main admin\r\n                            <button\r\n                              className=\"btn btn-outline-danger\"\r\n                              onClick={() => handleDeleteUser(user.id)}\r\n                              title=\"Delete User\"\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i>\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Toast\r\n        show={toast.show}\r\n        message={toast.message}\r\n        type={toast.type}\r\n        onClose={() => setToast({ ...toast, show: false })}\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}